<style>
  .is-valid {
    border-color: #28a745 !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
  }

  .is-invalid {
    border-color: #dc3545 !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
  }
  .fixed-title {
    position: fixed;
    top: 0;
    z-index: 1000;
    background-color: white;
    padding: 10px 35px 5px 15px;
    display: none; /* Oculto inicialmente */
  }
  #back-button {
    position: fixed;
    top: 100px; /* Altura inicial del botón */
    right: 30px;
    z-index: 1020;
    transition: top 0.3s; /* Transición suave al cambiar la altura */
  }
  #etiqueta-button {
    position: fixed;
    top: 140px; /* Altura inicial del botón */
    right: 30px;
    z-index: 1020;
    transition: top 0.3s; /* Transición suave al cambiar la altura */
  }
  .circle-container {
    display: flex; /* Utilizar flexbox */
  }
  .card-header {
    padding: 10px 35px 10px 15px;
  }
  .circle {
    border-radius: 50%;
    width: 2em; /* Ancho relativo */
    height: 2em; /* Alto relativo */
    max-width: 20px; /* Ancho máximo */
    max-height: 20px; /* Alto máximo */
    display: flex; /* Centro vertical y horizontal del ícono */
    justify-content: center;
    align-items: center;
    margin-right: 5px; /* Espacio entre los círculos */
  }
  .circle-success {
    background-color: #28a745; /* Verde */
  }
  .producto-btn {
    padding: 15px;
    border: 1px solid #dee2e6;
    border-radius: 5px;
  }
  .circle-danger {
    background-color: #dc3545; /* Rojo */
  }
  .sticky-header th {
    position: sticky;
    top: 60px; /* Ajusta este valor según la altura de la cabecera principal */
    z-index: 1000;
    background-color: white; /* El color de fondo para evitar superposición */
    box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.4); /* Sombra opcional para separar visualmente la cabecera */
  }
</style>
<div class="card shadow mb-4">
  <div class="fixed-title" id="fixed-title">
    <h6 class="m-0 font-weight-bold text-primary" id="titulo2">
      Picking y Despacho
    </h6>
  </div>
  <div class="card-header py-3" id="card-header">
    <h6 class="m-0 font-weight-bold text-primary mb-2" id="titulo">
      Picking y Despacho
    </h6>
    <a href="#" id="back-button" class="btn btn-primary">
      <i class="fa fa-arrow-left"></i>
    </a>
    <a href="#" id="etiqueta-button" class="btn btn-primary">
      <i class="fa fa-tags"></i>
    </a>
  </div>
  <div class="card-body no-border">
    <div class="container">
      <div class="table-responsive">
        <table
          id="picking-table"
          class="table table-bordered table-sm table-striped"
          style="width: 100%"
        >
          <thead>
            <tr>
              <th>Código</th>
              <th>Producto</th>
              <th>Lab.</th>
              <th>Ubicacion</th>
              <th>CantE</th>
              <th>CantF</th>
              <th>CheckEan13</th>
              <th>Checkpick</th>
            </tr>
          </thead>
          <tbody>
            <!-- Los datos se llenarán dinámicamente con DataTables -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div
    class="modal fade"
    id="ean13Modal"
    tabindex="-1"
    aria-labelledby="ean13ModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ean13ModalLabel">
            Verificación del Producto
          </h5>
          <button
            class="close"
            type="button"
            data-bs-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-6 col-md-6">
              <p><strong>Lote:</strong> <span id="modal-lote"></span></p>
            </div>
            <div class="col-6 col-md-6">
              <p><strong>Vence:</strong> <span id="modal-fecven"></span></p>
            </div>
          </div>
          <div class="row">
            <div class="col-6 col-md-6">
              <p><strong>Código:</strong> <span id="modal-codpro"></span></p>
            </div>
            <div class="col-6 col-md-6">
              <p>
                <strong>Secuencia:</strong> <span id="modal-secuencia"></span>
              </p>
            </div>
          </div>
          <p><strong>Producto</strong> <span id="modal-despro"></span></p>
          <p><strong>Ubicación:</strong> <span id="modal-ubipro"></span></p>
          <p>
            <strong><span id="modal-despro"></span></strong>
          </p>
          <div class="mb-3">
            <label for="ean13-input" class="form-label"
              >Ingrese el Código de Barras (EAN13):</label
            >
            <p>
              <strong><span id="modal-codalt"></span></strong>
            </p>
            <input type="text" class="form-control" id="ean13-input" />
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            id="cerrarean13"
            data-bs-dismiss="modal"
            aria-label="Close"
          >
            Cerrar
          </button>
          <button type="button" class="btn btn-primary" id="validate-ean13">
            Validar
          </button>
        </div>
      </div>
    </div>
  </div>
  <div
    class="modal fade"
    id="modalPicking"
    tabindex="-1"
    aria-labelledby="modalPickingLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <p><strong>Producto:</strong> <span id="caja-producto"></span></p>
          <button
            class="close"
            type="button"
            data-bs-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-6 col-md-6">
              <p><strong>Lote:</strong> <span id="Lote"></span></p>
            </div>
            <div class="col-6 col-md-6">
              <p><strong>Vence:</strong> <span id="Fecha"></span></p>
            </div>
          </div>
          <div class="row">
            <div class="col-6 col-md-6">
              <p><strong>Código:</strong> <span id="codigo"></span></p>
            </div>
            <div class="col-6 col-md-6">
              <p><strong>Secuencia:</strong> <span id="Secuencia"></span></p>
            </div>
          </div>
          <div class="row">
            <div class="col-6 col-md-6">
              <p><strong>Entero:</strong> <span id="Entero"></span></p>
            </div>
            <div class="col-6 col-md-6">
              <p><strong>Fracción:</strong> <span id="Fraccion"></span></p>
            </div>
          </div>
          <div id="cajas-container"></div>
          <button type="button" class="btn btn-primary btn-sm" id="add-caja">
            Agregar Bulto
          </button>
          <div class="row mt-3">
            <div class="col-12">
              <div class="form-group">
                <button
                  class="form-control btn btn-primary btn-lg"
                  id="confpick"
                >
                  Grabar
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div
    class="modal fade"
    id="impresionModal"
    tabindex="-1"
    aria-labelledby="ean13ModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ean13ModalLabel">Impresion Etiqueta</h5>
          <button
            class="close cerrarmodal"
            type="button"
            data-bs-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="impresion-input" class="form-label"
              >Ingrese el codigo del bulto:</label
            >
            <input type="text" class="form-control" id="impresion-input" />
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary cerrarmodal"
            data-bs-dismiss="modal"
            aria-label="Close"
          >
            Cerrar
          </button>
          <button type="button" class="btn btn-primary" id="validate-impresion">
            Imprimir
          </button>
        </div>
      </div>
    </div>
  </div>
  <script src="https://unpkg.com/pdf-lib"></script>
  <script src="js/pickingDetalle.js" type="text/javascript"></script>
</div>
